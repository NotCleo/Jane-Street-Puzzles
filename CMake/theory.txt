Let's suppose you have a single C file

You can compile it using : gcc -o main main.c
With aggressive compiling : gcc -O3 -o main main.c 

With object file being generated : gcc -c main.c, gcc -o main2.c
The above two files will be linked as follows : gcc -o main main.o main2.o


But say you have hundreds or thousands of C files or object files, or header files (dependent ones), how does one go about compiling all these files together

That's where we introduce "make" 

By default, make looks for a file named Makefile or makefile

In the Makefile, we write down all the compile commands for the different c files that are added during production and we just can remove or add the object/header files easily

Follow the files in /CMAke to see it in action!


mrut@Maverick:~/maketest$ tree
.
├── build
│   ├── CMakeCache.txt
│   ├── CMakeFiles
│   │   ├── 3.28.3
│   │   │   ├── CMakeCCompiler.cmake
│   │   │   ├── CMakeCXXCompiler.cmake
│   │   │   ├── CMakeDetermineCompilerABI_C.bin
│   │   │   ├── CMakeDetermineCompilerABI_CXX.bin
│   │   │   ├── CMakeSystem.cmake
│   │   │   ├── CompilerIdC
│   │   │   │   ├── a.out
│   │   │   │   ├── CMakeCCompilerId.c
│   │   │   │   └── tmp
│   │   │   └── CompilerIdCXX
│   │   │       ├── a.out
│   │   │       ├── CMakeCXXCompilerId.cpp
│   │   │       └── tmp
│   │   ├── cmake.check_cache
│   │   ├── CMakeConfigureLog.yaml
│   │   ├── CMakeDirectoryInformation.cmake
│   │   ├── CMakeScratch
│   │   ├── Makefile2
│   │   ├── Makefile.cmake
│   │   ├── my_program.dir
│   │   │   ├── build.make
│   │   │   ├── cmake_clean.cmake
│   │   │   ├── compiler_depend.make
│   │   │   ├── compiler_depend.ts
│   │   │   ├── DependInfo.cmake
│   │   │   ├── depend.make
│   │   │   ├── flags.make
│   │   │   ├── helper.c.o
│   │   │   ├── helper.c.o.d
│   │   │   ├── link.txt
│   │   │   ├── main.c.o
│   │   │   ├── main.c.o.d
│   │   │   └── progress.make
│   │   ├── pkgRedirects
│   │   ├── progress.marks
│   │   └── TargetDirectories.txt
│   ├── cmake_install.cmake
│   ├── compile_commands.json
│   ├── Makefile
│   └── my_program
├── CMakeLists.txt
├── helper.c
├── helper.h
├── main.c
└── Makefile

11 directories, 39 files


To run the entire flow: 

mkdir build
cd build
cmake ..
make
./executable name as provided

There you are good to go!!

I dearly thank the contents of this video to teach me all this : https://www.youtube.com/watch?v=NGPo7mz1oa4
